var issurl="http://api.open-notify.org/iss-now.json";var peopleinspaceurl="https://cors-anywhere.herokuapp.com/www.howmanypeopleareinspacerightnow.com/peopleinspace.json";var shipicon="assets/png/spring-swing-rocket.png";var personicon="assets/png/kitty.png";function httpGetAsync(theUrl,callback){var xmlHttp=new XMLHttpRequest();xmlHttp.onreadystatechange=function(){if(xmlHttp.readyState==4&&xmlHttp.status==200)
callback(xmlHttp.responseText);}
xmlHttp.open("GET",theUrl,true);xmlHttp.send(null);}
function updateissloc(){httpGetAsync(issurl,function(dataraw){data=JSON.parse(dataraw);document.getElementsByClassName("issposition")[0].innerHTML="<h2>ISS Position</h2>Latitude: "+data.iss_position.latitude+"\n<br>\nLongitude: "+data.iss_position.longitude;});}
function updatepeopleinspace(){$.get(peopleinspaceurl,function(data,textStatus,jqXHR){peoplearray=data.people;htmlend="";document.getElementsByClassName("peopleinspace")[0].style.height="51vw";for(person of peoplearray){now=new Date();launch=new Date(person.launchdate);diffdays=" ("+Math.floor((now-launch)/(1000*3600*24)).toString()+" Days)";htmlend+="<div class=\"person\">";htmlend+="<img src=\""+personicon+"\" class=\"personicon\" alt=\""+person.bio+"\" title=\""+person.bio+"\"></img>"
htmlend+="<div class=\"personname\">"+person.name+diffdays+"</div>";htmlend+="<div class=\"craft\">"+person.location;htmlend+="<img src=\""+shipicon+"\" class=\"crafticon\"></img>";htmlend+="</div></div><br>";}
document.getElementsByClassName("peopleinspace")[0].innerHTML="<h2>People in Space</h2>"+htmlend;});}
$(document).ready(function(){updatepeopleinspace();setInterval(updatepeopleinspace,60000);setInterval(checkdarkreader,1000);});function checkdarkreader(){if(!!document.getElementsByClassName("darkreader")[0]){for(var iconindex in[...Array(document.getElementsByClassName("personicon").length).keys()]){document.getElementsByClassName("personicon")[iconindex].style.filter="invert(1)";document.getElementsByClassName("crafticon")[iconindex].style.filter="invert(1)";}}else{for(var iconindex in[...Array(document.getElementsByClassName("personicon").length).keys()]){document.getElementsByClassName("personicon")[iconindex].style.filter="invert(0)";document.getElementsByClassName("crafticon")[iconindex].style.filter="invert(0)";}}}